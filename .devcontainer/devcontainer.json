// .devcontainer/devcontainer.json
{
    "name": "Learning Go",
    "dockerComposeFile": "docker-compose.yml",
    "service": "app",
    "workspaceFolder": "/workspaces/${localWorkspaceFolderBasename}",
    "initializeCommand": "bash -c '[[ $(docker ps -aq) ]] && docker stop $(docker ps -aq) && docker rm $(docker ps -aq) || echo \"No container running\"'",
    "settings": {
        "go.gopath": "/go",
        "go.toolsGopath": "/go"
    },
    "extensions": [
        "golang.go"
    ],
    "forwardPorts": [
        2345
    ],
    "runArgs": [
        "--init"
    ],
    "containerEnv": {
        "GO111MODULE": "on"
    },
    "remoteUser": "root"
}